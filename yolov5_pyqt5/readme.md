## PyQT5可视化界面
### *重要说明*
1. 确保文件目录按照正确的格式放置：cow_data，Hsc3DemoLinux，yolov5_d435i_detection-mian，yolov5_pyqt5要放在同一目录下  
2. 创建虚拟环境，安装项目所需的依赖，具体参考requirements.txt，特别注意opencv版本为4.1.2.30，太高会和pyqt5存在兼容性问题
3. 测试系统环境：ubuntu20.04 python=3.8.5 cuda=11.3 pytorch=1.11.0 RTX4060

### 功能介绍
按日期批量检测采集到的奶牛乳头照片，对奶牛乳头的健康状况进行评级：Lv1代表优，Lv2代表良，Lv3代表中，Lv4代表差。检测结果保存为excel表格，同时可以整合流量计数据，按天保存所有奶牛的数据

### 使用步骤
1. 在当前目录下打开终端，或者ctrl+alt+t打开终端后`cd ~/Desktop/cow_robot/yolov5_pyqt`到当前目录
2. 切换虚拟环境`conda activate yolo_qt`
3. 运行程序`python main.py`弹出图形化界面
4. 点击**加载数据**弹出文件浏览器，选择要检测的日期，选择photos文件夹，再任意选择一张照片，测试数据加载完成
5. 点击**选择模型**弹出文件浏览器，选择teat_score.pt，模型选择完成
6. 点击**目标检测**开始检测，即对奶牛乳头进行评级
7. 点击**汇总数据**整理评级数据和流量计数据，结果保存为**统计数据.xlsx**
8. 点击**输出文件夹**打开保存结果的文件夹，所有输出结果均保存到该日期目录下的**results**文件夹内
9. 再次点击第一个按钮即可选择其他要检测的数据，无需再次选择模型